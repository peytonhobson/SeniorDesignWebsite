import { health } from '@app/plugins';
import { FastifyPluginAsync } from 'fastify';

import { <%= camelize(name) %>Action } from './<%= dasherize(name) %>-action';

export const <%= camelize(name) %>: FastifyPluginAsync = async function (instance, options): Promise<void> {
    instance.addHook('preHandler', instance.verifyMinRole);

    instance.register(health);
    instance.register(<%= camelize(name) %>Action);
};
