# SB Drone Utils

## Development

```bash
npm link
# Then in other project do:
npm link @start-bootstrap/drone-utils
```

## Release

### Versioning

```bash
# npm version [patch|minor|major]
# npm version patch   1.0.0 -> 1.0.1
# npm version minor   1.0.0 -> 1.1.0
# npm version major   1.0.0 -> 2.0.0
npm version

# check package.json
cat package.json | grep version
```

### Push to git

```bash
export NPM_NEW_VERSION=$(node -e "var pj=require('./package.json'); console.log(\`v\${pj.version}\`)");
echo "Pushing $NPM_NEW_VERSION to github"
git push origin $NPM_NEW_VERSION
```

### Practice Run

```bash
cd drone-utils
npm pack
tar -tvf RESULTING_TAR_FILE

# Don't forget to delete it
rm -f *.tgz
```

### Publish

```bash
npm run build && npm publish --access public
```

## Updating projects

```bash
# npm i -D @start-bootstrap/drone-utils@0.1.6 && gacp updating drone-utils
npm i -D @start-bootstrap/drone-utils@0.1.6
```
